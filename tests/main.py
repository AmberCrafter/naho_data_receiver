#!/usr/bin/python3

import serial
from time import sleep

uart = serial.Serial('/dev/ttyUSB1', 9600, timeout=1)
# uart.write(b"hello\nworld\nhappy new year\n")



cwb_rawdata1 = [0x02, 0x2C, 0x41, 0x30, 0x43, 0x34, 0x31, 0x2C, 0x48, 0x48, 0x2C, 0x32, 0x30, 0x32, 0x35, 0x30, 0x31, 0x30, 0x39, 0x31, 0x35, 0x35, 0x38, 0x2C, 0x31, 0x30, 0x30, 0x38, 0x2E, 0x33, 0x2C, 0x31, 0x30, 0x32, 0x34, 0x2E, 0x30, 0x2C, 0x32, 0x2C, 0x30, 0x30, 0x2E, 0x35, 0x2C, 0x31, 0x34, 0x2E, 0x39, 0x2C, 0x31, 0x31, 0x2E, 0x30, 0x2C, 0x30, 0x31, 0x32, 0x2E, 0x39, 0x2C, 0x30, 0x31, 0x33, 0x2E, 0x37, 0x2C, 0x30, 0x31, 0x32, 0x2E, 0x39, 0x2C, 0x30, 0x30, 0x38, 0x2E, 0x34, 0x2C, 0x30, 0x37, 0x34, 0x2C, 0x30, 0x35, 0x2C, 0x30, 0x30, 0x34, 0x2E, 0x37, 0x2C, 0x30, 0x30, 0x35, 0x2E, 0x31, 0x2C, 0x30, 0x34, 0x2C, 0x31, 0x35, 0x33, 0x32, 0x2C, 0x30, 0x31, 0x30, 0x2E, 0x38, 0x2C, 0x30, 0x33, 0x2C, 0x31, 0x35, 0x32, 0x38, 0x2C, 0x30, 0x34, 0x2C, 0x30, 0x30, 0x39, 0x2E, 0x34, 0x2C, 0x30, 0x30, 0x30, 0x2E, 0x30, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2E, 0x30, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2E, 0x30, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2E, 0x30, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2E, 0x30, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2E, 0x30, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2E, 0x30, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2E, 0x30, 0x2C, 0x30, 0x30, 0x30, 0x2E, 0x30, 0x36, 0x2C, 0x30, 0x30, 0x2E, 0x30, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E]
cwb_rawdata2 = [0x39, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x03, 0x34, 0x46, 0x43, 0x35, 0x0D, 0x0A]
cwb_data1 = serial.to_bytes(cwb_rawdata1)
cwb_data2 = serial.to_bytes(cwb_rawdata2)

# print(cwb_data1)
# print(cwb_data2)

uart.write(cwb_data1)
uart.write(cwb_data2)

sleep(1)

# fix MN missing data
cwb_rawdata1 = [0x02, 0x2C, 0x41, 0x30, 0x43, 0x34, 0x31, 0x2C, 0x4D, 0x4E, 0x2C, 0x32, 0x30, 0x32, 0x35, 0x30, 0x31, 0x30, 0x39, 0x31, 0x36, 0x30, 0x39, 0x2C, 0x31, 0x30, 0x30, 0x38, 0x2E, 0x34, 0x2C, 0x31, 0x30, 0x32, 0x34, 0x2E, 0x31, 0x2C, 0x30, 0x31, 0x32, 0x2E, 0x37, 0x2C, 0x30, 0x30, 0x38, 0x2E, 0x34, 0x2C, 0x30, 0x37, 0x35, 0x2C, 0x30, 0x31, 0x34, 0x2E, 0x37, 0x2C, 0x30, 0x31, 0x31, 0x2E, 0x30, 0x2C, 0x30, 0x34, 0x2C, 0x30, 0x30, 0x34, 0x2E, 0x34, 0x2C, 0x30, 0x34, 0x2C, 0x30, 0x30, 0x35, 0x2E, 0x33, 0x2C, 0x30, 0x2E, 0x30, 0x2C, 0x30, 0x30, 0x30, 0x2E, 0x30, 0x2C, 0x31, 0x30, 0x30, 0x39, 0x2E, 0x34, 0x2C, 0x30, 0x39, 0x34, 0x36, 0x2C, 0x30, 0x39, 0x39, 0x39, 0x2E, 0x30, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x30, 0x31, 0x36, 0x2E, 0x32, 0x2C, 0x31, 0x32, 0x30, 0x37, 0x2C, 0x30, 0x31, 0x32, 0x2E, 0x37, 0x2C, 0x31, 0x36, 0x30, 0x37, 0x2C, 0x30, 0x31, 0x31, 0x2E, 0x39, 0x2C, 0x30, 0x30, 0x35, 0x32, 0x2C, 0x30, 0x30, 0x36, 0x2E, 0x39, 0x2C, 0x31, 0x31, 0x30, 0x38, 0x2C, 0x30, 0x38, 0x31, 0x2C, 0x30, 0x32, 0x30, 0x35, 0x2C, 0x30, 0x35, 0x36, 0x2C, 0x31, 0x30, 0x32, 0x39, 0x2C, 0x31, 0x33, 0x2E, 0x39, 0x2C, 0x30, 0x30, 0x35, 0x32, 0x2C, 0x30, 0x39, 0x2E, 0x39, 0x2C, 0x31, 0x31, 0x30, 0x38, 0x2C, 0x30, 0x31, 0x33, 0x2E, 0x32, 0x2C, 0x30, 0x38]
cwb_rawdata2 = [0x2C, 0x31, 0x30, 0x30, 0x38, 0x2C, 0x30, 0x30, 0x36, 0x2E, 0x38, 0x2C, 0x30, 0x38, 0x2C, 0x31, 0x31, 0x34, 0x34, 0x2C, 0x30, 0x33, 0x2E, 0x36, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2E, 0x30, 0x2C, 0x30, 0x30, 0x30, 0x2E, 0x30, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2E, 0x30, 0x2C, 0x30, 0x30, 0x30, 0x30, 0x2C, 0x30, 0x36, 0x2E, 0x34, 0x36, 0x2C, 0x30, 0x30, 0x2E, 0x30, 0x30, 0x2C, 0x30, 0x30, 0x2E, 0x30, 0x30, 0x2C, 0x30, 0x35, 0x2E, 0x39, 0x34, 0x2C, 0x30, 0x30, 0x2E, 0x30, 0x30, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x2D, 0x39, 0x39, 0x39, 0x2E, 0x39, 0x2C, 0x40, 0x40, 0x2C, 0x03, 0x34, 0x32, 0x37, 0x42, 0x0D, 0x0A]
cwb_data1 = serial.to_bytes(cwb_rawdata1)
cwb_data2 = serial.to_bytes(cwb_rawdata2)
uart.write(cwb_data1)
uart.write(cwb_data2)
